{% extends "base.html" %}

{% block content %}
<div class="min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8">
    <div class="sm:mx-auto sm:w-full sm:max-w-md">
        <h2 class="mt-6 text-center text-3xl font-extrabold text-white">
            Create your WinderInvoice account
        </h2>
        <p class="mt-2 text-center text-sm text-gray-400">
            Start managing your invoices in minutes
        </p>
    </div>

    <div class="mt-8 sm:mx-auto sm:w-full sm:max-w-md">
        <div class="bg-[#111] py-8 px-4 shadow-xl border border-gray-800 sm:rounded-xl sm:px-10 card-gradient">
            {% if error %}
            <div class="bg-red-900/30 border border-red-500/50 text-red-200 px-4 py-3 rounded relative mb-4" role="alert">
                <span class="block sm:inline">{{ error }}</span>
            </div>
            {% endif %}

            <form class="space-y-4" action="/auth/signup" method="POST" onsubmit="return validateForm()">
                <div>
                    <label for="full_name" class="block text-sm font-medium text-gray-300">
                        Full Name *
                    </label>
                    <div class="mt-1">
                        <input id="full_name" name="full_name" type="text" required
                            class="appearance-none block w-full px-3 py-2 border border-gray-700 rounded-lg shadow-sm placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-black text-white">
                    </div>
                </div>

                <div>
                    <label for="shop_name" class="block text-sm font-medium text-gray-300">
                        Shop Name *
                    </label>
                    <div class="mt-1">
                        <input id="shop_name" name="shop_name" type="text" required
                            class="appearance-none block w-full px-3 py-2 border border-gray-700 rounded-lg shadow-sm placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-black text-white">
                    </div>
                </div>

                <div>
                    <label for="email" class="block text-sm font-medium text-gray-300">
                        Email Address *
                    </label>
                    <div class="mt-1">
                        <input id="email" name="email" type="email" autocomplete="email" required
                            class="appearance-none block w-full px-3 py-2 border border-gray-700 rounded-lg shadow-sm placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-black text-white">
                    </div>
                </div>

                <div>
                    <label for="mobile" class="block text-sm font-medium text-gray-300">
                        Mobile Number *
                    </label>
                    <div class="mt-1">
                        <input id="mobile" name="mobile" type="tel" pattern="[0-9]{10}" required
                            placeholder="10-digit mobile number"
                            class="appearance-none block w-full px-3 py-2 border border-gray-700 rounded-lg shadow-sm placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-black text-white">
                    </div>
                </div>

                <div>
                    <label for="password" class="block text-sm font-medium text-gray-300">
                        Password *
                    </label>
                    <div class="mt-1">
                        <input id="password" name="password" type="password" autocomplete="new-password" required minlength="6"
                            class="appearance-none block w-full px-3 py-2 border border-gray-700 rounded-lg shadow-sm placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-black text-white">
                    </div>
                    <p class="mt-1 text-xs text-gray-500">Minimum 6 characters</p>
                </div>

                <div>
                    <label for="confirm_password" class="block text-sm font-medium text-gray-300">
                        Confirm Password *
                    </label>
                    <div class="mt-1">
                        <input id="confirm_password" name="confirm_password" type="password" autocomplete="new-password" required minlength="6"
                            class="appearance-none block w-full px-3 py-2 border border-gray-700 rounded-lg shadow-sm placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-black text-white">
                    </div>
                </div>

                <div>
                    <label for="gstin" class="block text-sm font-medium text-gray-300">
                        GSTIN (Optional)
                    </label>
                    <div class="mt-1">
                        <input id="gstin" name="gstin" type="text" maxlength="15"
                            placeholder="e.g., 19AAAPJ2698R1ZO"
                            class="appearance-none block w-full px-3 py-2 border border-gray-700 rounded-lg shadow-sm placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-black text-white">
                    </div>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                        <label for="city" class="block text-sm font-medium text-gray-300">
                            City *
                        </label>
                        <div class="mt-1">
                            <input id="city" name="city" type="text" required
                                class="appearance-none block w-full px-3 py-2 border border-gray-700 rounded-lg shadow-sm placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-black text-white">
                        </div>
                    </div>

                    <div>
                        <label for="state" class="block text-sm font-medium text-gray-300">
                            State *
                        </label>
                        <div class="mt-1">
                            <select id="state" name="state" required
                                class="appearance-none block w-full px-3 py-2 border border-gray-700 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-black text-white">
                                <option value="">Select State</option>
                                <option value="Andhra Pradesh">Andhra Pradesh</option>
                                <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                <option value="Assam">Assam</option>
                                <option value="Bihar">Bihar</option>
                                <option value="Chhattisgarh">Chhattisgarh</option>
                                <option value="Goa">Goa</option>
                                <option value="Gujarat">Gujarat</option>
                                <option value="Haryana">Haryana</option>
                                <option value="Himachal Pradesh">Himachal Pradesh</option>
                                <option value="Jharkhand">Jharkhand</option>
                                <option value="Karnataka">Karnataka</option>
                                <option value="Kerala">Kerala</option>
                                <option value="Madhya Pradesh">Madhya Pradesh</option>
                                <option value="Maharashtra">Maharashtra</option>
                                <option value="Manipur">Manipur</option>
                                <option value="Meghalaya">Meghalaya</option>
                                <option value="Mizoram">Mizoram</option>
                                <option value="Nagaland">Nagaland</option>
                                <option value="Odisha">Odisha</option>
                                <option value="Punjab">Punjab</option>
                                <option value="Rajasthan">Rajasthan</option>
                                <option value="Sikkim">Sikkim</option>
                                <option value="Tamil Nadu">Tamil Nadu</option>
                                <option value="Telangana">Telangana</option>
                                <option value="Tripura">Tripura</option>
                                <option value="Uttar Pradesh">Uttar Pradesh</option>
                                <option value="Uttarakhand">Uttarakhand</option>
                                <option value="West Bengal">West Bengal</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div id="password-error" class="hidden bg-red-900/30 border border-red-500/50 text-red-200 px-4 py-3 rounded relative" role="alert">
                    <span class="block sm:inline">Passwords do not match!</span>
                </div>

                <div>
                    <button type="submit"
                        class="w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-lg text-sm font-bold text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all btn-scale">
                        Create Account
                    </button>
                </div>
            </form>
            
            <div class="mt-6 text-center">
                <p class="text-sm text-gray-500">
                    Already have an account? 
                    <a href="/auth/login" class="font-medium text-blue-400 hover:text-blue-300 transition-colors">
                        Sign in
                    </a>
                </p>
            </div>
        </div>
    </div>
</div>

<script>
    function validateForm() {
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirm_password').value;
        const errorDiv = document.getElementById('password-error');
        
        if (password !== confirmPassword) {
            errorDiv.classList.remove('hidden');
            return false;
        }
        
        errorDiv.classList.add('hidden');
        return true;
    }
</script>
{% endblock %}
